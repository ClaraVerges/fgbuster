
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>fgbuster.xForecast &#8212; FGBuster 0.1.1 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="fgbuster.component_model" href="fgbuster.component_model.html" />
    <link rel="prev" title="fgbuster.separation_recipies" href="fgbuster.separation_recipies.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-fgbuster.xForecast">
<span id="fgbuster-xforecast"></span><h1>fgbuster.xForecast<a class="headerlink" href="#module-fgbuster.xForecast" title="Permalink to this headline">¶</a></h1>
<p>Forecasting toolbox</p>
<p class="rubric">Functions</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#fgbuster.xForecast.xForecast" title="fgbuster.xForecast.xForecast"><code class="xref py py-obj docutils literal"><span class="pre">xForecast</span></code></a>(components,&nbsp;instrument,&nbsp;d_fgs,&nbsp;…)</td>
<td>Run XForcast (Stompor et al, 2016) using the provided instrumental specifications and input foregrounds maps.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="fgbuster.xForecast.xForecast">
<code class="descclassname">fgbuster.xForecast.</code><code class="descname">xForecast</code><span class="sig-paren">(</span><em>components</em>, <em>instrument</em>, <em>d_fgs</em>, <em>lmin</em>, <em>lmax</em>, <em>Alens=1.0</em>, <em>r=0.001</em>, <em>make_figure=False</em>, <em>**minimize_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fgbuster/xForecast.html#xForecast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fgbuster.xForecast.xForecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Run XForcast (Stompor et al, 2016) using the provided instrumental
specifications and input foregrounds maps. If the foreground maps match the
components provided (constant spectral indices are assumed), it reduces to
CMB4cast (Errard et al, 2011). Currently, only polarization is considered
fot component separation and only the BB power spectrum for cosmological
analysis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>components</strong> (<em>list</em>) – <cite>Components</cite> of the mixing matrix</li>
<li><strong>instrument</strong> (<em>PySM.Instrument</em>) – <p>Instrument object used to define the mixing matrix and the
frequency-dependent noise weight.
It is required to have:</p>
<blockquote>
<div><ul>
<li>frequencies</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>however, also the following are taken into account, if provided</dt>
<dd><ul class="first last">
<li>sens_P (define the frequency inverse noise)</li>
</ul>
</dd>
</dl>
</li>
<li><strong>d_fgs</strong> (<em>ndarray</em>) – The foreground maps. No CMB. Shape <cite>(n_freq, n_stokes, n_pix)</cite>.
If some pixels have to be masked, set them to zero.
Since (cross-)spectra of the maps will be computed, you might want to
apodize your mask (use the same apodization for all the frequency).</li>
<li><strong>lmin</strong> (<em>int</em>) – minimum multipole entering the likelihood computation</li>
<li><strong>lmax</strong> (<em>int</em>) – maximum multipole entering the likelihood computation</li>
<li><strong>Alens</strong> (<em>float</em>) – Amplitude of the lensing B-modes entering the likelihood on r</li>
<li><strong>r</strong> (<em>float</em>) – tensor-to-scalar ratio assumed in the likelihood on r</li>
<li><strong>minimize_kwargs</strong> (<em>dict</em>) – Keyword arguments to be passed to <cite>scipy.optimize.minimize</cite> during
the fitting of the spectral parameters.
A good choice for most cases is
<cite>minimize_kwargs = {‘tol’: 1, options: {‘disp’: True}}</cite>. <cite>tol</cite> depends
on both the solver and your signal to noise: it should ensure that the
difference between the best fit -logL and and the minimum is well less
then 1, without exagereting (a difference of 1e-4 is useless).
<cite>disp</cite> also triggers a verbose callback that monitors the convergence.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p><strong>xFres</strong> –</p>
<dl class="docutils">
<dt>xForecast result. It includes</dt>
<dd><ul class="first last simple">
<li>the fitted spectral parameters</li>
<li><dl class="first docutils">
<dt>noise-averaged post-component separation CMB power spectrum</dt>
<dd><ul class="first last">
<li>noise spectrum</li>
<li>statistical residuals spectrum</li>
<li>systematic residuals spectrum</li>
</ul>
</dd>
</dl>
</li>
<li>noise-averaged cosmological likelihood</li>
</ul>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../api.html">API</a><ul>
      <li>Previous: <a href="fgbuster.separation_recipies.html" title="previous chapter">fgbuster.separation_recipies</a></li>
      <li>Next: <a href="fgbuster.component_model.html" title="next chapter">fgbuster.component_model</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Davide Poletti, Josquin Errard.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/api/fgbuster.xForecast.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>